# features.s

$ ./features
Supports MMX
Support SSE
Support SSE2
Support SSE3

# mmx_add.s

20          movl $1, %eax
(gdb) x/2d &value1
0x402000:       10      20
(gdb) x/2d &value2
0x402008:       30      40
(gdb) x/2d &result
0x402010 <result>:      40      60

# mmx_cmp.s

20          movl $1, %eax
(gdb) x/x &value1
0x402000:       0x0014000a
(gdb) x/x &value2
0x402008:       0x0028000a
(gdb) x/x &result
0x402010 <result>:      0x0000ffff - 相等的打包整数值结果包含FFFF, 不相等的结果包含0000

# sse_math.s

16          movaps value1, %xmm0
(gdb) x/4f &value1
0x402000:       12.3400002      2345    -93.1999969     10.4399996
(gdb) x/4f &value2
0x402010:       39.2340012      21.3999996      100.940002      10.5600004
(gdb) n
17          movaps value2, %xmm1
(gdb) print $xmm0
$1 = {v4_float = {12.3400002, 2345, -93.1999969, 10.4399996}, v2_double = {5.6101725574714474e+24, 754974.88032836909}, v16_int8 = {-92,
    112, 69, 65, 0, -112, 18, 69, 102, 102, -70, -62, 61, 10, 39, 65}, v8_int16 = {28836, 16709, -28672, 17682, 26214, -15686, 2621,
    16679}, v4_int32 = {1095069860, 1158844416, -1027971482, 1093077565}, v2_int64 = {4977198868967288996, 4694732396933310054},
  uint128 = 86602527020781775578804592404012036260}
(gdb) n
19          addps %xmm1, %xmm0
(gdb) print $xmm1
$2 = {v4_float = {39.2340012, 21.3999996, 100.940002, 10.5600004}, v2_double = {228170145.05651563, 817889.63044647221}, v16_int8 = {
    -98, -17, 28, 66, 51, 51, -85, 65, 72, -31, -55, 66, -61, -11, 40, 65}, v8_int16 = {-4194, 16924, 13107, 16811, -7864, 17097, -2621,
    16680}, v4_int32 = {1109192606, 1101738803, 1120526664, 1093203395}, v2_int64 = {4731932128728379294, 4695272830521696584},
  uint128 = 86612496260875578387995842694967259038}
(gdb) n
20          sqrtps %xmm0, %xmm0
(gdb) print $xmm0
$3 = {v4_float = {51.5740013, 2366.3999, 7.74000549, 21}, v2_double = {6.014405302368266e+24, 201326624.48375034}, v16_int8 = {-57, 75,
    78, 66, 102, -26, 19, 69, 32, -82, -9, 64, 0, 0, -88, 65}, v8_int16 = {19399, 16974, -6554, 17683, -20960, 16631, 0, 16808},
  v4_int32 = {1112427463, 1158932070, 1089973792, 1101529088}, v2_int64 = {4977575340048010183, 4731031409642679840},
  uint128 = 87272125618359850373392885123090631623}
(gdb) n
21          maxps %xmm1, %xmm0
(gdb) print $xmm0
$4 = {v4_float = {7.18150425, 48.6456566, 2.78208661, 4.5825758}, v2_double = {159623578059.61627, 1193.1154792614809}, v16_int8 = {-30,
    -50, -27, 64, 39, -107, 66, 66, -75, 13, 50, 64, 118, -92, -110, 64}, v8_int16 = {-12574, 16613, -27353, 16962, 3509, 16434, -23434,
    16530}, v4_int32 = {1088802530, 1111659815, 1077022133, 1083352182}, v2_int64 = {4774542550791212770, 4652962192817262005},
  uint128 = 85832002755546427910696780764134362850}
(gdb) n
22          movaps %xmm0, result
(gdb) print $xmm0
$5 = {v4_float = {39.2340012, 48.6456566, 100.940002, 10.5600004}, v2_double = {159623578681.87201, 817889.63044647221}, v16_int8 = {
    -98, -17, 28, 66, 39, -107, 66, 66, 72, -31, -55, 66, -61, -11, 40, 65}, v8_int16 = {-4194, 16924, -27353, 16962, -7864, 17097,
    -2621, 16680}, v4_int32 = {1109192606, 1111659815, 1120526664, 1093203395}, v2_int64 = {4774542550811602846, 4695272830521696584},
  uint128 = 86612496260875578388038453117050482590}
(gdb) n
24          movl $1, %eax
(gdb) x/4f &result
0x402020 <result>:      39.2340012      48.6456566      100.940002      10.5600004

# sse_cmp.s

22          movl $1, %eax
(gdb) print $xmm0
$1 = {v4_float = {-nan(0x7fffff), 0, -nan(0x7fffff), 0}, v2_double = {2.1219957904712067e-314, 2.1219957904712067e-314}, v16_int8 = {-1,
    -1, -1, -1, 0, 0, 0, 0, -1, -1, -1, -1, 0, 0, 0, 0}, v8_int16 = {-1, -1, 0, 0, -1, -1, 0, 0}, v4_int32 = {-1, 0, -1, 0}, v2_int64 = {
    4294967295, 4294967295}, uint128 = 79228162495817593524129366015}
(gdb) x/4f &result
0x402020 <result>:      -nan(0x7fffff)  0       -nan(0x7fffff)  0

# sse2_math.s

32          movl $1, %eax
(gdb) x/2gf &result1
0x402040 <result1>:     44.284999999999997      -11.193000000000001
(gdb) x/4wd &result2
0x402050 <result2>:     15      35      55      75